import{_ as F}from"./index.vue_vue_type_script_setup_true_lang-HXixYu0j.js";import{b as H,c as B}from"./product-spu-BCjrkRB4.js";import{d as b,a2 as M,M as I,F as u,c as t,G as o,a7 as K,K as $,l,a9 as N,O as A,J as h,t as P,a4 as R,E as Y,a6 as W,a1 as E}from"./index-CtZFkp4p.js";import{B as z}from"./TextArea-Cs30zvrZ.js";import{_ as V}from"./index-CbPuKKq1.js";import{_ as J}from"./index-CxjYXKV3.js";import{c as O}from"./product-category-CKjmOg0j.js";import{F as T,_ as U,I as j}from"./index-BOfr_Bk3.js";import{S as G}from"./index-KCGl6bU8.js";import{a as L,_ as Q}from"./index-C2ZNtoS0.js";import{C as q}from"./index-B2DcCLpg.js";import"./navs-CfyB2w-a.js";import"./index-CYrzOZGV.js";import"./DownOutlined-D4s7AB3s.js";import"./useRequest-bvdcAKX1.js";import"./index-LeozGhtr.js";import"./index-BA3hHyBm.js";import"./index-Cxmr1eSz.js";import"./List-UuYAzSWU.js";import"./pickAttrs-BsI7RF8R.js";import"./eagerComputed-CVs6PNRb.js";import"./index-CoGlqIll.js";import"./index-BGqO3MUF.js";import"./LeftOutlined-e3FWgSxt.js";import"./index-TlC6eTBq.js";import"./responsiveObserve-BR2lwN30.js";import"./index-Bov8DSqh.js";import"./isPlainObject-ByKZJB2G.js";import"./Col-CK3YAQNr.js";import"./isMobile-BbN7I0i_.js";import"./index-CTzm4KRz.js";const X=[{title:"ID",dataIndex:"id",key:"id",fixed:"left",width:100},{title:"产品名称",dataIndex:"productName",key:"productName",fixed:"left",width:200},{title:"料号",dataIndex:"partNumber",key:"partNumber",fixed:"left",width:100},{title:"类别",dataIndex:["productCategory","categoryName"],key:"productCategory"},{title:"颜色",dataIndex:"color",key:"color"},{title:"材质",dataIndex:"material",key:"material"},{title:"单位",dataIndex:"unit",key:"unit"},{title:"净重(kg)",dataIndex:"netWeightKg",key:"netWeightKg"},{title:"毛重(kg)",dataIndex:"grossWeightKg",key:"grossWeightKg"},{title:"创建时间",dataIndex:"createdAt",key:"createdAt"},{title:"更新时间",dataIndex:"updatedAt",key:"updatedAt"},{title:"操作",key:"action",fixed:"right",width:280}],Z={key:0},ee={key:1},te=b({__name:"List",props:{loading:{type:Boolean},pageData:{}},emits:["pageChange","delete"],setup(v,{emit:c}){const n=c,{execute:p,onFetchResponse:s}=H(),[m,_]=M.useMessage(),r=e=>{n("pageChange",e)};s(async e=>{const{code:a,message:i}=e;if(a!==0){m.error(i);return}n("delete"),m.success("删除成功")});const g=e=>{p(e)};return(e,a)=>{var y,w,C,d;const i=z,f=V,D=J;return u(),I(A,null,[t(D,{size:"small",scroll:{x:1980},columns:l(X),"data-source":(y=e.pageData)==null?void 0:y.records,loading:e.loading,"row-key":"id",pagination:{current:(w=e.pageData)==null?void 0:w.current,pageSize:(C=e.pageData)==null?void 0:C.size,total:(d=e.pageData)==null?void 0:d.total,showSizeChanger:!0,showQuickJumper:!0,showTotal:k=>`共 ${k} 条`,pageSizeOptions:["10","20","30","40"]},onChange:r},{bodyCell:o(({column:k,record:x})=>[k.key==="createdAt"?(u(),I("span",Z,$(l(N)(x.createdAt).format("YYYY/MM/DD HH:mm:ss")),1)):k.key==="updatedAt"?(u(),I("span",ee,$(l(N)(x.updatedAt).format("YYYY/MM/DD HH:mm:ss")),1)):k.key==="action"?(u(),I(A,{key:2},[t(i,{type:"link",onClick:S=>e.$router.push(`/product/update/${x.id}`)},{default:o(()=>a[0]||(a[0]=[h("编辑")])),_:2,__:[0]},1032,["onClick"]),t(f,{title:"确认要删除该设备吗?","ok-text":"Yes","cancel-text":"No",onConfirm:S=>g(x.id)},{default:o(()=>[t(i,{type:"link",danger:""},{default:o(()=>a[1]||(a[1]=[h("删除")])),_:1,__:[1]})]),_:2},1032,["onConfirm"]),t(i,{type:"link",onClick:S=>e.$router.push(`/product/detail/${x.id}`)},{default:o(()=>a[2]||(a[2]=[h("查看更多")])),_:2,__:[2]},1032,["onClick"])],64)):K("",!0)]),_:1},8,["columns","data-source","loading","pagination"]),t(l(_))],64)}}}),oe=b({__name:"Search",emits:["submit","reset"],setup(v,{emit:c}){const n=c,p=P(null),s=R({kw:"",categoryIds:[]}),{data:m}=O(),_=g=>{n("submit",W(g))},r=()=>{p.value.resetFields(),n("reset")};return(g,e)=>{const a=j,i=U,f=L,D=G,y=z,w=Q,C=T;return u(),Y(C,{ref_key:"formRef",ref:p,model:s,autocomplete:"off",onFinish:_},{default:o(()=>[t(w,{gutter:24},{default:o(()=>[t(f,{span:6},{default:o(()=>[t(i,{name:"kw",label:"关键词"},{default:o(()=>[t(a,{value:s.kw,"onUpdate:value":e[0]||(e[0]=d=>s.kw=d),placeholder:"请输入产品名称/料号","allow-clear":""},null,8,["value"])]),_:1})]),_:1}),t(f,{span:6},{default:o(()=>[t(i,{name:"categoryIds",label:"产品类型"},{default:o(()=>[t(D,{value:s.categoryIds,"onUpdate:value":e[1]||(e[1]=d=>s.categoryIds=d),"show-search":"",style:{width:"100%"},"dropdown-style":{maxHeight:"400px",overflow:"auto"},placeholder:"请选择产品类型","allow-clear":"",mode:"multiple",options:l(m),"field-names":{label:"categoryName",value:"id"}},null,8,["value","options"])]),_:1})]),_:1}),t(f,{span:6},{default:o(()=>[t(i,null,{default:o(()=>[t(y,{type:"primary","html-type":"submit"},{default:o(()=>e[2]||(e[2]=[h("查询")])),_:1,__:[2]}),t(y,{style:{margin:"0 8px"},onClick:r},{default:o(()=>e[3]||(e[3]=[h("重置")])),_:1,__:[3]})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}}),He=b({__name:"index",setup(v){E({title:"IE WorkSpace | 产品列表"});const{data:c,execute:n,isFetching:p}=B(),s=r=>{n({...r,current:1,size:10})},m=r=>{n({current:r.current,size:r.pageSize})},_=()=>{n()};return(r,g)=>{const e=q,a=F;return u(),Y(a,null,{default:o(()=>[t(e,{class:"!mb-6"},{default:o(()=>[t(oe,{onSubmit:s})]),_:1}),t(e,null,{default:o(()=>[t(te,{loading:l(p),pageData:l(c),onPageChange:m,onDelete:_},null,8,["loading","pageData"])]),_:1})]),_:1})}}});export{He as default};
