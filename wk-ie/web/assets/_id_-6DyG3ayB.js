import{_ as $}from"./index.vue_vue_type_script_setup_true_lang-BHms0YAU.js";import{a as F}from"./equipment-oqlIE6PG.js";import{T as G}from"./navs-BD3d0_6e.js";import{_ as Y,a as H}from"./index-k3RXpmTy.js";import{C as E,_ as M,S as v}from"./index-B1ztuN38.js";import{I as P}from"./index--bpVZPnA.js";import{d as y,M as g,E as m,a7 as I,F as a,O as f,c as t,G as n,J as s,N as S,a8 as R,K as p,l as i,a9 as z,a1 as V,L as j,Y as A,a2 as J,w as K}from"./index-DV7Tvt5Y.js";import{D as w,a as C}from"./index-DltsD33K.js";import{T as O}from"./index-DeTlMY0M.js";import{u as U}from"./useTabStack-D2s9at_J.js";import{S as W}from"./index-D-UiK71F.js";import{_ as Q}from"./index-BKyRpPci.js";import"./index-BbVrix12.js";import"./TextArea-BjtsIsZn.js";import"./DownOutlined-D--NuR7i.js";import"./useRequest-Dz7y7lr_.js";import"./Col-B8xDw5VW.js";import"./responsiveObserve-DeVBohwv.js";import"./index-Db-an7ty.js";import"./isMobile-BbN7I0i_.js";import"./isPlainObject-BWkeKT7j.js";import"./index-eZogoHkx.js";import"./pickAttrs-BWmeWkVt.js";import"./LeftOutlined-Dy19BuOD.js";const X=y({__name:"EquipmentImages",props:{images:{},isLoading:{type:Boolean}},setup(k){return(e,d)=>{const u=G,o=P,c=M,l=E,_=H,b=Y,h=R;return e.images&&e.images.length>0?(a(),g(f,{key:0},[t(u,{level:5},{default:n(()=>d[0]||(d[0]=[s("设备图片")])),_:1,__:[0]}),t(b,{gutter:[16,16],class:"mt-4"},{default:n(()=>[(a(!0),g(f,null,S(e.images,(r,q)=>(a(),m(_,{xs:24,sm:12,md:8,lg:6,xl:6,key:r.id},{default:n(()=>[t(l,{class:"h-full overflow-hidden","body-style":{padding:"12px"}},{cover:n(()=>[t(o,{src:`/minio${r.imageUrl}`,preview:!0,alt:"设备图片",class:"object-cover",height:"180px"},null,8,["src"])]),default:n(()=>[t(c,{title:`图${q+1}`,description:r.description?r.description:"暂无简介"},null,8,["title","description"])]),_:2},1024)]),_:2},1024))),128))]),_:1})],64)):!e.isLoading&&(!e.images||e.images.length===0)?(a(),m(h,{key:1,description:"暂无设备图片"})):I("",!0)}}}),Z=y({__name:"EquipmentInfo",props:{equipment:{},isLoading:{type:Boolean}},setup(k){return(e,d)=>{const u=v,o=C,c=O,l=w;return a(),g(f,null,[e.isLoading?(a(),m(u,{key:0,active:e.isLoading},null,8,["active"])):I("",!0),t(l,{title:"设备基础信息",column:{xs:1,sm:2,md:2,lg:3,xl:3},size:"middle",class:"equipment-info"},{default:n(()=>[t(o,{label:"设备ID"},{default:n(()=>[s(p(e.equipment.id),1)]),_:1}),t(o,{label:"设备编号"},{default:n(()=>[s(p(e.equipment.equipmentCode),1)]),_:1}),t(o,{label:"设备名称"},{default:n(()=>[s(p(e.equipment.equipmentName),1)]),_:1}),t(o,{label:"设备类型"},{default:n(()=>[(a(!0),g(f,null,S(e.equipment.categories,_=>(a(),m(c,null,{default:n(()=>[s(p(_.categoryName),1)]),_:2},1024))),256))]),_:1}),t(o,{label:"设备型号"},{default:n(()=>[s(p(e.equipment.model),1)]),_:1}),t(o,{label:"创建时间"},{default:n(()=>[s(p(i(z)(e.equipment.createdAt).format("YYYY/MM/DD HH:mm:ss")),1)]),_:1})]),_:1})],64)}}}),x=y({__name:"SupplierInfo",props:{supplier:{},isLoading:{type:Boolean}},setup(k){return(e,d)=>{const u=v,o=C,c=w;return e.isLoading?(a(),m(u,{key:0,active:e.isLoading},null,8,["active"])):(a(),m(c,{key:1,title:"供应商信息",column:{xs:1,sm:2,md:2,lg:3,xl:3},size:"middle",class:"mt-4"},{default:n(()=>[t(o,{label:"供应商名称"},{default:n(()=>[s(p(e.supplier.supplierName),1)]),_:1}),t(o,{label:"联系人"},{default:n(()=>[s(p(e.supplier.contactPerson?e.supplier.contactPerson:"暂无信息"),1)]),_:1}),t(o,{label:"联系邮箱"},{default:n(()=>[s(p(e.supplier.contactEmail?e.supplier.contactEmail:"暂无信息"),1)]),_:1}),t(o,{label:"联系电话"},{default:n(()=>[s(p(e.supplier.contactPhone?e.supplier.contactPhone:"暂无信息"),1)]),_:1})]),_:1}))}}}),Ee=y({__name:"[id]",setup(k){V({title:"IE Workspace | 设备详情"});const e=j(),d=A(),[u,o]=J.useMessage(),{closeTab:c}=U(),{isFetching:l,data:_,execute:b,onFetchResponse:h}=F();return K(()=>e.params.id,r=>{b(r)},{immediate:!0}),h(r=>{const{code:q,data:L}=r;q===0&&(L||(u.warning("设备不存在"),c(),d.back()))}),(r,q)=>{const L=v,D=Q,N=W,T=E,B=$;return a(),g(f,null,[t(B,null,{default:n(()=>[t(T,null,{default:n(()=>[i(l)?(a(),m(L,{key:0,active:i(l)},null,8,["active"])):(a(),m(N,{key:1,direction:"vertical",size:"large",class:"pb-6"},{split:n(()=>[t(D)]),default:n(()=>[t(Z,{equipment:i(_),isLoading:i(l)},null,8,["equipment","isLoading"]),t(x,{supplier:i(_).equipmentSupplier,isLoading:i(l)},null,8,["supplier","isLoading"]),t(X,{images:i(_).images,isLoading:i(l)},null,8,["images","isLoading"])]),_:1}))]),_:1})]),_:1}),t(i(o))],64)}}});export{Ee as default};
