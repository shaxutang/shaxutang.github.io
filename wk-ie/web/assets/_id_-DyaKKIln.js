import{_ as S}from"./index.vue_vue_type_script_setup_true_lang-BHms0YAU.js";import{a as w,u as F}from"./product-spu-rmhxIdlf.js";import{_ as P,a as b}from"./EditFormDescription.vue_vue_type_script_setup_true_lang-DucCfQ0p.js";import{d as k,a1 as B,L as C,Y as v,a as y,a3 as G,a2 as H,ac as M,w as $,M as E,F as N,c as o,G as u,H as V,l as n,O as A}from"./index-DV7Tvt5Y.js";import{C as D}from"./index-B1ztuN38.js";import"./navs-BD3d0_6e.js";import"./TextArea-BjtsIsZn.js";import"./index-BbVrix12.js";import"./DownOutlined-D--NuR7i.js";import"./useRequest-Dz7y7lr_.js";import"./product-category-CfSqcCEH.js";import"./index-Kn5vY--8.js";import"./index-DTvfgQe8.js";import"./responsiveObserve-DeVBohwv.js";import"./isPlainObject-BWkeKT7j.js";import"./Col-B8xDw5VW.js";import"./pickAttrs-BWmeWkVt.js";import"./index-CyNtAtIp.js";import"./List-BmaGCUCT.js";import"./isMobile-BbN7I0i_.js";import"./index-D-UiK71F.js";import"./index-Db-an7ty.js";import"./index-BKyRpPci.js";const I={class:"mx-auto w-2/3"},pe=k({__name:"[id]",setup(L){B({title:"IE WorkSpace | 修改产品"});const r=C(),c=v(),m=y(()=>r.params.id),d=G("formRef"),[a,l]=H.useMessage(),{data:f,execute:p,onFetchResponse:_}=w(),{isFetching:g,execute:R,onFetchResponse:h}=F("put");M(()=>{r.params.id||c.replace("/product/list")}),$(()=>r.fullPath,()=>{p(m.value)},{immediate:!0}),_(async e=>{const{code:s,message:t,data:i}=e;if(s!==0){a.error(t);return}i||(a.warning("产品不存在"),c.replace("/product/list"))}),h(async e=>{const{code:s,message:t}=e;if(s!==0){a.error(t);return}p(m.value),a.success("修改成功")});const x=e=>{R(e)};return(e,s)=>{const t=D,i=S;return N(),E(A,null,[o(i,null,{default:u(()=>[o(t,null,{default:u(()=>[V("div",I,[o(P,{ref_key:"formRef",ref:d,"init-data":n(f),disabled:n(g),onSubmit:x},null,8,["init-data","disabled"])]),o(b,{title:"产品修改规则说明"})]),_:1})]),_:1}),o(n(l))],64)}}});export{pe as default};
