import{c as N,I as Be,d as $e,p as Nt,a as P,i as $t,s as H,P as me,_ as O,a4 as Pt,q as nn,o as Dt,ba as on,e as ae,x as ge,ae as an,af as ln,t as Me,f as Ce,w as Ke,v as rn,aT as sn,Q as dn,T as cn,n as Tt,O as un,b7 as fn,a6 as dt,bc as vn,aK as yn,aL as hn,g as gn,m as pn,r as bn,aC as mn,b0 as ct}from"./index-DV7Tvt5Y.js";import{w as Kn,o as It,aa as kn,i as Sn,K as we,ab as xn}from"./TextArea-BjtsIsZn.js";import{L as wn}from"./List-BmaGCUCT.js";import{p as Lt}from"./pickAttrs-BWmeWkVt.js";import{e as se}from"./eagerComputed-BvJDvKzU.js";import{g as Cn}from"./index-_wvjrq5s.js";var On={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};function ut(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){En(e,a,n[a])})}return e}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt=function(t,n){var o=ut({},t,n.attrs);return N(Be,ut({},o,{icon:On}),null)};nt.displayName="CaretDownFilled";nt.inheritAttrs=!1;var Nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};function ft(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){$n(e,a,n[a])})}return e}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=function(t,n){var o=ft({},t,n.attrs);return N(Be,ft({},o,{icon:Nn}),null)};ot.displayName="FileOutlined";ot.inheritAttrs=!1;var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){Dn(e,a,n[a])})}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at=function(t,n){var o=vt({},t,n.attrs);return N(Be,vt({},o,{icon:Pn}),null)};at.displayName="MinusSquareOutlined";at.inheritAttrs=!1;var Tn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),o.forEach(function(a){In(e,a,n[a])})}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt=function(t,n){var o=yt({},t,n.attrs);return N(Be,yt({},o,{icon:Tn}),null)};lt.displayName="PlusSquareOutlined";lt.inheritAttrs=!1;const At=Symbol("TreeContextKey"),Ln=$e({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup(e,t){let{slots:n}=t;return Nt(At,P(()=>e.value)),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),rt=()=>$t(At,P(()=>({}))),_t=Symbol("KeysStateKey"),An=e=>{Nt(_t,e)},Mt=()=>$t(_t,{expandedKeys:H([]),selectedKeys:H([]),loadedKeys:H([]),loadingKeys:H([]),checkedKeys:H([]),halfCheckedKeys:H([]),expandedKeysSet:P(()=>new Set),selectedKeysSet:P(()=>new Set),loadedKeysSet:P(()=>new Set),loadingKeysSet:P(()=>new Set),checkedKeysSet:P(()=>new Set),halfCheckedKeysSet:P(()=>new Set),flattenNodes:H([])}),_n=e=>{let{prefixCls:t,level:n,isStart:o,isEnd:a}=e;const s=`${t}-indent-unit`,l=[];for(let v=0;v<n;v+=1)l.push(N("span",{key:v,class:{[s]:!0,[`${s}-start`]:o[v],[`${s}-end`]:a[v]}},null));return N("span",{"aria-hidden":"true",class:`${t}-indent`},[l])},Ft={eventKey:[String,Number],prefixCls:String,title:me.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:me.any,switcherIcon:me.any,domRef:{type:Function}},Mn={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},Fn=()=>({prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:me.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:me.any,selectable:{type:Boolean,default:void 0},expandAction:[String,Boolean],disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:me.any,switcherIcon:me.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String},rootClassName:String,rootStyle:Object});var jn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const ht="open",gt="close",Bn="---",pt=$e({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:Ft,isTreeNode:1,setup(e,t){let{attrs:n,slots:o,expose:a}=t;Kn(!("slots"in e.data),`treeData slots is deprecated, please use ${Object.keys(e.data.slots||{}).map(r=>"`v-slot:"+r+"` ")}instead`);const s=H(!1),l=rt(),{expandedKeysSet:v,selectedKeysSet:p,loadedKeysSet:f,loadingKeysSet:y,checkedKeysSet:h,halfCheckedKeysSet:b}=Mt(),{dragOverNodeKey:m,dropPosition:w,keyEntities:g}=l.value,x=P(()=>Fe(e.eventKey,{expandedKeysSet:v.value,selectedKeysSet:p.value,loadedKeysSet:f.value,loadingKeysSet:y.value,checkedKeysSet:h.value,halfCheckedKeysSet:b.value,dragOverNodeKey:m,dropPosition:w,keyEntities:g})),K=se(()=>x.value.expanded),_=se(()=>x.value.selected),A=se(()=>x.value.checked),D=se(()=>x.value.loaded),T=se(()=>x.value.loading),U=se(()=>x.value.halfChecked),W=se(()=>x.value.dragOver),F=se(()=>x.value.dragOverGapTop),R=se(()=>x.value.dragOverGapBottom),X=se(()=>x.value.pos),V=H(),ne=P(()=>{const{eventKey:r}=e,{keyEntities:c}=l.value,{children:M}=c[r]||{};return!!(M||[]).length}),J=P(()=>{const{isLeaf:r}=e,{loadData:c}=l.value,M=ne.value;return r===!1?!1:r||!c&&!M||c&&D.value&&!M}),ve=P(()=>J.value?null:K.value?ht:gt),le=P(()=>{const{disabled:r}=e,{disabled:c}=l.value;return!!(c||r)}),Se=P(()=>{const{checkable:r}=e,{checkable:c}=l.value;return!c||r===!1?!1:c}),re=P(()=>{const{selectable:r}=e,{selectable:c}=l.value;return typeof r=="boolean"?r:c}),z=P(()=>{const{data:r,active:c,checkable:M,disableCheckbox:G,disabled:Y,selectable:Q}=e;return O(O({active:c,checkable:M,disableCheckbox:G,disabled:Y,selectable:Q},r),{dataRef:r,data:r,isLeaf:J.value,checked:A.value,expanded:K.value,loading:T.value,selected:_.value,halfChecked:U.value})}),de=nn(),q=P(()=>{const{eventKey:r}=e,{keyEntities:c}=l.value,{parent:M}=c[r]||{};return O(O({},je(O({},e,x.value))),{parent:M})}),Z=Pt({eventData:q,eventKey:P(()=>e.eventKey),selectHandle:V,pos:X,key:de.vnode.key});a(Z);const oe=r=>{const{onNodeDoubleClick:c}=l.value;c(r,q.value)},ce=r=>{if(le.value)return;const{onNodeSelect:c}=l.value;r.preventDefault(),c(r,q.value)},pe=r=>{if(le.value)return;const{disableCheckbox:c}=e,{onNodeCheck:M}=l.value;if(!Se.value||c)return;r.preventDefault();const G=!A.value;M(r,q.value,G)},xe=r=>{const{onNodeClick:c}=l.value;c(r,q.value),re.value?ce(r):pe(r)},Oe=r=>{const{onNodeMouseEnter:c}=l.value;c(r,q.value)},He=r=>{const{onNodeMouseLeave:c}=l.value;c(r,q.value)},Re=r=>{const{onNodeContextMenu:c}=l.value;c(r,q.value)},ze=r=>{const{onNodeDragStart:c}=l.value;r.stopPropagation(),s.value=!0,c(r,Z);try{r.dataTransfer.setData("text/plain","")}catch{}},Ve=r=>{const{onNodeDragEnter:c}=l.value;r.preventDefault(),r.stopPropagation(),c(r,Z)},qe=r=>{const{onNodeDragOver:c}=l.value;r.preventDefault(),r.stopPropagation(),c(r,Z)},De=r=>{const{onNodeDragLeave:c}=l.value;r.stopPropagation(),c(r,Z)},Ge=r=>{const{onNodeDragEnd:c}=l.value;r.stopPropagation(),s.value=!1,c(r,Z)},We=r=>{const{onNodeDrop:c}=l.value;r.preventDefault(),r.stopPropagation(),s.value=!1,c(r,Z)},Te=r=>{const{onNodeExpand:c}=l.value;T.value||c(r,q.value)},Ie=()=>{const{data:r}=e,{draggable:c}=l.value;return!!(c&&(!c.nodeDraggable||c.nodeDraggable(r)))},Le=()=>{const{draggable:r,prefixCls:c}=l.value;return r&&(r!=null&&r.icon)?N("span",{class:`${c}-draggable-icon`},[r.icon]):null},Xe=()=>{var r,c,M;const{switcherIcon:G=o.switcherIcon||((r=l.value.slots)===null||r===void 0?void 0:r[(M=(c=e.data)===null||c===void 0?void 0:c.slots)===null||M===void 0?void 0:M.switcherIcon])}=e,{switcherIcon:Y}=l.value,Q=G||Y;return typeof Q=="function"?Q(z.value):Q},Ae=()=>{const{loadData:r,onNodeLoad:c}=l.value;T.value||r&&K.value&&!J.value&&!ne.value&&!D.value&&c(q.value)};Dt(()=>{Ae()}),on(()=>{Ae()});const Ue=()=>{const{prefixCls:r}=l.value,c=Xe();if(J.value)return c!==!1?N("span",{class:ge(`${r}-switcher`,`${r}-switcher-noop`)},[c]):null;const M=ge(`${r}-switcher`,`${r}-switcher_${K.value?ht:gt}`);return c!==!1?N("span",{onClick:Te,class:M},[c]):null},Ye=()=>{var r,c;const{disableCheckbox:M}=e,{prefixCls:G}=l.value,Y=le.value;return Se.value?N("span",{class:ge(`${G}-checkbox`,A.value&&`${G}-checkbox-checked`,!A.value&&U.value&&`${G}-checkbox-indeterminate`,(Y||M)&&`${G}-checkbox-disabled`),onClick:pe},[(c=(r=l.value).customCheckable)===null||c===void 0?void 0:c.call(r)]):null},_e=()=>{const{prefixCls:r}=l.value;return N("span",{class:ge(`${r}-iconEle`,`${r}-icon__${ve.value||"docu"}`,T.value&&`${r}-icon_loading`)},null)},be=()=>{const{disabled:r,eventKey:c}=e,{draggable:M,dropLevelOffset:G,dropPosition:Y,prefixCls:Q,indent:i,dropIndicatorRender:d,dragOverNodeKey:u,direction:S}=l.value;return!r&&M!==!1&&u===c?d({dropPosition:Y,dropLevelOffset:G,indent:i,prefixCls:Q,direction:S}):null},Qe=()=>{var r,c,M,G,Y,Q;const{icon:i=o.icon,data:d}=e,u=o.title||((r=l.value.slots)===null||r===void 0?void 0:r[(M=(c=e.data)===null||c===void 0?void 0:c.slots)===null||M===void 0?void 0:M.title])||((G=l.value.slots)===null||G===void 0?void 0:G.title)||e.title,{prefixCls:S,showIcon:E,icon:C,loadData:k}=l.value,I=le.value,B=`${S}-node-content-wrapper`;let $;if(E){const ee=i||((Y=l.value.slots)===null||Y===void 0?void 0:Y[(Q=d==null?void 0:d.slots)===null||Q===void 0?void 0:Q.icon])||C;$=ee?N("span",{class:ge(`${S}-iconEle`,`${S}-icon__customize`)},[typeof ee=="function"?ee(z.value):ee]):_e()}else k&&T.value&&($=_e());let L;typeof u=="function"?L=u(z.value):L=u,L=L===void 0?Bn:L;const j=N("span",{class:`${S}-title`},[L]);return N("span",{ref:V,title:typeof u=="string"?u:"",class:ge(`${B}`,`${B}-${ve.value||"normal"}`,!I&&(_.value||s.value)&&`${S}-node-selected`),onMouseenter:Oe,onMouseleave:He,onContextmenu:Re,onClick:xe,onDblclick:oe},[$,j,be()])};return()=>{const r=O(O({},e),n),{eventKey:c,isLeaf:M,isStart:G,isEnd:Y,domRef:Q,active:i,data:d,onMousemove:u,selectable:S}=r,E=jn(r,["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"]),{prefixCls:C,filterTreeNode:k,keyEntities:I,dropContainerKey:B,dropTargetKey:$,draggingNodeKey:L}=l.value,j=le.value,ee=Lt(E,{aria:!0,data:!0}),{level:ue}=I[c]||{},ie=Y[Y.length-1],te=Ie(),ye=!j&&te,Ee=L===c,Je=S!==void 0?{"aria-selected":!!S}:void 0;return N("div",ae(ae({ref:Q,class:ge(n.class,`${C}-treenode`,{[`${C}-treenode-disabled`]:j,[`${C}-treenode-switcher-${K.value?"open":"close"}`]:!M,[`${C}-treenode-checkbox-checked`]:A.value,[`${C}-treenode-checkbox-indeterminate`]:U.value,[`${C}-treenode-selected`]:_.value,[`${C}-treenode-loading`]:T.value,[`${C}-treenode-active`]:i,[`${C}-treenode-leaf-last`]:ie,[`${C}-treenode-draggable`]:ye,dragging:Ee,"drop-target":$===c,"drop-container":B===c,"drag-over":!j&&W.value,"drag-over-gap-top":!j&&F.value,"drag-over-gap-bottom":!j&&R.value,"filter-node":k&&k(q.value)}),style:n.style,draggable:ye,"aria-grabbed":Ee,onDragstart:ye?ze:void 0,onDragenter:te?Ve:void 0,onDragover:te?qe:void 0,onDragleave:te?De:void 0,onDrop:te?We:void 0,onDragend:te?Ge:void 0,onMousemove:u},Je),ee),[N(_n,{prefixCls:C,level:ue,isStart:G,isEnd:Y},null),Le(),Ue(),Ye(),Qe()])}}});function fe(e,t){if(!e)return[];const n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function he(e,t){const n=(e||[]).slice();return n.indexOf(t)===-1&&n.push(t),n}function it(e){return e.split("-")}function jt(e,t){return`${e}-${t}`}function Hn(e){return e&&e.type&&e.type.isTreeNode}function Rn(e,t){const n=[],o=t[e];function a(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(l=>{let{key:v,children:p}=l;n.push(v),a(p)})}return a(o.children),n}function zn(e){if(e.parent){const t=it(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Vn(e){const t=it(e.pos);return Number(t[t.length-1])===0}function bt(e,t,n,o,a,s,l,v,p,f){var y;const{clientX:h,clientY:b}=e,{top:m,height:w}=e.target.getBoundingClientRect(),x=((f==="rtl"?-1:1)*(((a==null?void 0:a.x)||0)-h)-12)/o;let K=v[n.eventKey];if(b<m+w/2){const X=l.findIndex(J=>J.key===K.key),V=X<=0?0:X-1,ne=l[V].key;K=v[ne]}const _=K.key,A=K,D=K.key;let T=0,U=0;if(!p.has(_))for(let X=0;X<x&&zn(K);X+=1)K=K.parent,U+=1;const W=t.eventData,F=K.node;let R=!0;return Vn(K)&&K.level===0&&b<m+w/2&&s({dragNode:W,dropNode:F,dropPosition:-1})&&K.key===n.eventKey?T=-1:(A.children||[]).length&&p.has(D)?s({dragNode:W,dropNode:F,dropPosition:0})?T=0:R=!1:U===0?x>-1.5?s({dragNode:W,dropNode:F,dropPosition:1})?T=1:R=!1:s({dragNode:W,dropNode:F,dropPosition:0})?T=0:s({dragNode:W,dropNode:F,dropPosition:1})?T=1:R=!1:s({dragNode:W,dropNode:F,dropPosition:1})?T=1:R=!1,{dropPosition:T,dropLevelOffset:U,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:D,dropContainerKey:T===0?null:((y=K.parent)===null||y===void 0?void 0:y.key)||null,dropAllowed:R}}function mt(e,t){if(!e)return;const{multiple:n}=t;return n?e.slice():e.length?[e[0]]:e}function Ze(e){if(!e)return null;let t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else if(typeof e=="object")t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return null;return t}function Kt(e,t){const n=new Set;function o(a){if(n.has(a))return;const s=t[a];if(!s)return;n.add(a);const{parent:l,node:v}=s;v.disabled||l&&o(l.key)}return(e||[]).forEach(a=>{o(a)}),[...n]}var qn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};function Pe(e,t){return e??t}function st(e){const{title:t,_title:n,key:o,children:a}=e||{},s=t||"title";return{title:s,_title:n||[s],key:o||"key",children:a||"children"}}function Gn(e){function t(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return an(n).map(a=>{var s,l,v,p;if(!Hn(a))return null;const f=a.children||{},y=a.key,h={};for(const[X,V]of Object.entries(a.props))h[ln(X)]=V;const{isLeaf:b,checkable:m,selectable:w,disabled:g,disableCheckbox:x}=h,K={isLeaf:b||b===""||void 0,checkable:m||m===""||void 0,selectable:w||w===""||void 0,disabled:g||g===""||void 0,disableCheckbox:x||x===""||void 0},_=O(O({},h),K),{title:A=(s=f.title)===null||s===void 0?void 0:s.call(f,_),icon:D=(l=f.icon)===null||l===void 0?void 0:l.call(f,_),switcherIcon:T=(v=f.switcherIcon)===null||v===void 0?void 0:v.call(f,_)}=h,U=qn(h,["title","icon","switcherIcon"]),W=(p=f.default)===null||p===void 0?void 0:p.call(f),F=O(O(O({},U),{title:A,icon:D,switcherIcon:T,key:y,isLeaf:b}),K),R=t(W);return R.length&&(F.children=R),F})}return t(e)}function Wn(e,t,n){const{_title:o,key:a,children:s}=st(n),l=new Set(t===!0?[]:t),v=[];function p(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f.map((h,b)=>{const m=jt(y?y.pos:"0",b),w=Pe(h[a],m);let g;for(let K=0;K<o.length;K+=1){const _=o[K];if(h[_]!==void 0){g=h[_];break}}const x=O(O({},It(h,[...o,a,s])),{title:g,key:w,parent:y,pos:m,children:null,data:h,isStart:[...y?y.isStart:[],b===0],isEnd:[...y?y.isEnd:[],b===f.length-1]});return v.push(x),t===!0||l.has(w)?x.children=p(h[s]||[],x):x.children=[],x})}return p(e),v}function Xn(e,t,n){let o={};typeof n=="object"?o=n:o={externalGetKey:n},o=o||{};const{childrenPropName:a,externalGetKey:s,fieldNames:l}=o,{key:v,children:p}=st(l),f=a||p;let y;s?typeof s=="string"?y=b=>b[s]:typeof s=="function"&&(y=b=>s(b)):y=(b,m)=>Pe(b[v],m);function h(b,m,w,g){const x=b?b[f]:e,K=b?jt(w.pos,m):"0",_=b?[...g,b]:[];if(b){const A=y(b,K),D={node:b,index:m,pos:K,key:A,parentPos:w.node?w.pos:null,level:w.level+1,nodes:_};t(D)}x&&x.forEach((A,D)=>{h(A,D,{node:b,pos:K,level:w?w.level+1:-1},_)})}h(null)}function Un(e){let{initWrapper:t,processEntity:n,onProcessFinished:o,externalGetKey:a,childrenPropName:s,fieldNames:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2?arguments[2]:void 0;const p=a||v,f={},y={};let h={posEntities:f,keyEntities:y};return t&&(h=t(h)||h),Xn(e,b=>{const{node:m,index:w,pos:g,key:x,parentPos:K,level:_,nodes:A}=b,D={node:m,nodes:A,index:w,key:x,pos:g,level:_},T=Pe(x,g);f[g]=D,y[T]=D,D.parent=f[K],D.parent&&(D.parent.children=D.parent.children||[],D.parent.children.push(D)),n&&n(D,h)},{externalGetKey:p,childrenPropName:s,fieldNames:l}),o&&o(h),h}function Fe(e,t){let{expandedKeysSet:n,selectedKeysSet:o,loadedKeysSet:a,loadingKeysSet:s,checkedKeysSet:l,halfCheckedKeysSet:v,dragOverNodeKey:p,dropPosition:f,keyEntities:y}=t;const h=y[e];return{eventKey:e,expanded:n.has(e),selected:o.has(e),loaded:a.has(e),loading:s.has(e),checked:l.has(e),halfChecked:v.has(e),pos:String(h?h.pos:""),parent:h.parent,dragOver:p===e&&f===0,dragOverGapTop:p===e&&f===-1,dragOverGapBottom:p===e&&f===1}}function je(e){const{data:t,expanded:n,selected:o,checked:a,loaded:s,loading:l,halfChecked:v,dragOver:p,dragOverGapTop:f,dragOverGapBottom:y,pos:h,active:b,eventKey:m}=e,w=O(O({dataRef:t},t),{expanded:n,selected:o,checked:a,loaded:s,loading:l,halfChecked:v,dragOver:p,dragOverGapTop:f,dragOverGapBottom:y,pos:h,active:b,eventKey:m,key:m});return"props"in w||Object.defineProperty(w,"props",{get(){return e}}),w}function Bt(e,t){const n=new Set;return e.forEach(o=>{t.has(o)||n.add(o)}),n}function Yn(e){const{disabled:t,disableCheckbox:n,checkable:o}=e||{};return!!(t||n)||o===!1}function Qn(e,t,n,o){const a=new Set(e),s=new Set;for(let v=0;v<=n;v+=1)(t.get(v)||new Set).forEach(f=>{const{key:y,node:h,children:b=[]}=f;a.has(y)&&!o(h)&&b.filter(m=>!o(m.node)).forEach(m=>{a.add(m.key)})});const l=new Set;for(let v=n;v>=0;v-=1)(t.get(v)||new Set).forEach(f=>{const{parent:y,node:h}=f;if(o(h)||!f.parent||l.has(f.parent.key))return;if(o(f.parent.node)){l.add(y.key);return}let b=!0,m=!1;(y.children||[]).filter(w=>!o(w.node)).forEach(w=>{let{key:g}=w;const x=a.has(g);b&&!x&&(b=!1),!m&&(x||s.has(g))&&(m=!0)}),b&&a.add(y.key),m&&s.add(y.key),l.add(y.key)});return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Bt(s,a))}}function Jn(e,t,n,o,a){const s=new Set(e);let l=new Set(t);for(let p=0;p<=o;p+=1)(n.get(p)||new Set).forEach(y=>{const{key:h,node:b,children:m=[]}=y;!s.has(h)&&!l.has(h)&&!a(b)&&m.filter(w=>!a(w.node)).forEach(w=>{s.delete(w.key)})});l=new Set;const v=new Set;for(let p=o;p>=0;p-=1)(n.get(p)||new Set).forEach(y=>{const{parent:h,node:b}=y;if(a(b)||!y.parent||v.has(y.parent.key))return;if(a(y.parent.node)){v.add(h.key);return}let m=!0,w=!1;(h.children||[]).filter(g=>!a(g.node)).forEach(g=>{let{key:x}=g;const K=s.has(x);m&&!K&&(m=!1),!w&&(K||l.has(x))&&(w=!0)}),m||s.delete(h.key),w&&l.add(h.key),v.add(h.key)});return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Bt(l,s))}}function et(e,t,n,o,a,s){let l;s?l=s:l=Yn;const v=new Set(e.filter(f=>!!n[f]));let p;return t===!0?p=Qn(v,a,o,l):p=Jn(v,t.halfCheckedKeys,a,o,l),p}function Zn(e){const t=Me(0),n=H();return Ce(()=>{const o=new Map;let a=0;const s=e.value||{};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const v=s[l],{level:p}=v;let f=o.get(p);f||(f=new Set,o.set(p,f)),f.add(v),a=Math.max(a,p)}t.value=a,n.value=o}),{maxLevel:t,levelEntities:n}}var kt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const eo=$e({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:O(O({},Ft),{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),setup(e,t){let{attrs:n,slots:o}=t;const a=H(!0),s=rt(),l=H(!1),v=P(()=>e.motion?e.motion:kn()),p=(f,y)=>{var h,b,m,w;y==="appear"?(b=(h=v.value)===null||h===void 0?void 0:h.onAfterEnter)===null||b===void 0||b.call(h,f):y==="leave"&&((w=(m=v.value)===null||m===void 0?void 0:m.onAfterLeave)===null||w===void 0||w.call(m,f)),l.value||e.onMotionEnd(),l.value=!0};return Ke(()=>e.motionNodes,()=>{e.motionNodes&&e.motionType==="hide"&&a.value&&Tt(()=>{a.value=!1})},{immediate:!0,flush:"post"}),Dt(()=>{e.motionNodes&&e.onMotionStart()}),rn(()=>{e.motionNodes&&p()}),()=>{const{motion:f,motionNodes:y,motionType:h,active:b,eventKey:m}=e,w=kt(e,["motion","motionNodes","motionType","active","eventKey"]);return y?N(sn,ae(ae({},v.value),{},{appear:h==="show",onAfterAppear:g=>p(g,"appear"),onAfterLeave:g=>p(g,"leave")}),{default:()=>[dn(N("div",{class:`${s.value.prefixCls}-treenode-motion`},[y.map(g=>{const x=kt(g.data,[]),{title:K,key:_,isStart:A,isEnd:D}=g;return delete x.children,N(pt,ae(ae({},x),{},{title:K,active:b,data:g.data,key:_,eventKey:_,isStart:A,isEnd:D}),o)})]),[[cn,a.value]])]}):N(pt,ae(ae({class:n.class,style:n.style},w),{},{active:b,eventKey:m}),o)}}});function to(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=e.length,o=t.length;if(Math.abs(n-o)!==1)return{add:!1,key:null};function a(s,l){const v=new Map;s.forEach(f=>{v.set(f,!0)});const p=l.filter(f=>!v.has(f));return p.length===1?p[0]:null}return n<o?{add:!0,key:a(e,t)}:{add:!1,key:a(t,e)}}function St(e,t,n){const o=e.findIndex(l=>l.key===n),a=e[o+1],s=t.findIndex(l=>l.key===n);if(a){const l=t.findIndex(v=>v.key===a.key);return t.slice(s+1,l)}return t.slice(s+1)}var xt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]]);return n};const wt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},no=()=>{},ke=`RC_TREE_MOTION_${Math.random()}`,tt={key:ke},Ht={key:ke,level:0,index:0,pos:"0",node:tt,nodes:[tt]},Ct={parent:null,children:[],pos:Ht.pos,data:tt,title:null,key:ke,isStart:[],isEnd:[]};function Ot(e,t,n,o){return t===!1||!n?e:e.slice(0,Math.ceil(n/o)+1)}function Et(e){const{key:t,pos:n}=e;return Pe(t,n)}function oo(e){let t=String(e.key),n=e;for(;n.parent;)n=n.parent,t=`${n.key} > ${t}`;return t}const ao=$e({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:Mn,setup(e,t){let{expose:n,attrs:o}=t;const a=Me(),s=Me(),{expandedKeys:l,flattenNodes:v}=Mt();n({scrollTo:g=>{a.value.scrollTo(g)},getIndentWidth:()=>s.value.offsetWidth});const p=H(v.value),f=H([]),y=Me(null);function h(){p.value=v.value,f.value=[],y.value=null,e.onListChangeEnd()}const b=rt();Ke([()=>l.value.slice(),v],(g,x)=>{let[K,_]=g,[A,D]=x;const T=to(A,K);if(T.key!==null){const{virtual:U,height:W,itemHeight:F}=e;if(T.add){const R=D.findIndex(ne=>{let{key:J}=ne;return J===T.key}),X=Ot(St(D,_,T.key),U,W,F),V=D.slice();V.splice(R+1,0,Ct),p.value=V,f.value=X,y.value="show"}else{const R=_.findIndex(ne=>{let{key:J}=ne;return J===T.key}),X=Ot(St(_,D,T.key),U,W,F),V=_.slice();V.splice(R+1,0,Ct),p.value=V,f.value=X,y.value="hide"}}else D!==_&&(p.value=_)}),Ke(()=>b.value.dragging,g=>{g||h()});const m=P(()=>e.motion===void 0?p.value:v.value),w=()=>{e.onActiveChange(null)};return()=>{const g=O(O({},e),o),{prefixCls:x,selectable:K,checkable:_,disabled:A,motion:D,height:T,itemHeight:U,virtual:W,focusable:F,activeItem:R,focused:X,tabindex:V,onKeydown:ne,onFocus:J,onBlur:ve,onListChangeStart:le,onListChangeEnd:Se}=g,re=xt(g,["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"]);return N(un,null,[X&&R&&N("span",{style:wt,"aria-live":"assertive"},[oo(R)]),N("div",null,[N("input",{style:wt,disabled:F===!1||A,tabindex:F!==!1?V:null,onKeydown:ne,onFocus:J,onBlur:ve,value:"",onChange:no,"aria-label":"for screen reader"},null)]),N("div",{class:`${x}-treenode`,"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[N("div",{class:`${x}-indent`},[N("div",{ref:s,class:`${x}-indent-unit`},null)])]),N(wn,ae(ae({},It(re,["onActiveChange"])),{},{data:m.value,itemKey:Et,height:T,fullHeight:!1,virtual:W,itemHeight:U,prefixCls:`${x}-list`,ref:a,onVisibleChange:(z,de)=>{const q=new Set(z);de.filter(oe=>!q.has(oe)).some(oe=>Et(oe)===ke)&&h()}}),{default:z=>{const{pos:de}=z,q=xt(z.data,[]),{title:Z,key:oe,isStart:ce,isEnd:pe}=z,xe=Pe(oe,de);return delete q.key,delete q.children,N(eo,ae(ae({},q),{},{eventKey:xe,title:Z,active:!!R&&oe===R.key,data:z.data,isStart:ce,isEnd:pe,motion:D,motionNodes:oe===ke?f.value:null,motionType:y.value,onMotionStart:le,onMotionEnd:h,onMousemove:w}),null)}})])}}});function lo(e){let{dropPosition:t,dropLevelOffset:n,indent:o}=e;const a={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"2px"};switch(t){case-1:a.top=0,a.left=`${-n*o}px`;break;case 1:a.bottom=0,a.left=`${-n*o}px`;break;case 0:a.bottom=0,a.left=`${o}`;break}return N("div",{style:a},null)}const ro=10,Ko=$e({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,props:Sn(Fn(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,expandAction:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:lo,allowDrop:()=>!0}),setup(e,t){let{attrs:n,slots:o,expose:a}=t;const s=H(!1);let l={};const v=H(),p=H([]),f=H([]),y=H([]),h=H([]),b=H([]),m=H([]),w={},g=Pt({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),x=H([]);Ke([()=>e.treeData,()=>e.children],()=>{x.value=e.treeData!==void 0?e.treeData.slice():Gn(dt(e.children))},{immediate:!0,deep:!0});const K=H({}),_=H(!1),A=H(null),D=H(!1),T=P(()=>st(e.fieldNames)),U=H();let W=null,F=null,R=null;const X=P(()=>({expandedKeysSet:V.value,selectedKeysSet:ne.value,loadedKeysSet:J.value,loadingKeysSet:ve.value,checkedKeysSet:le.value,halfCheckedKeysSet:Se.value,dragOverNodeKey:g.dragOverNodeKey,dropPosition:g.dropPosition,keyEntities:K.value})),V=P(()=>new Set(m.value)),ne=P(()=>new Set(p.value)),J=P(()=>new Set(h.value)),ve=P(()=>new Set(b.value)),le=P(()=>new Set(f.value)),Se=P(()=>new Set(y.value));Ce(()=>{if(x.value){const i=Un(x.value,{fieldNames:T.value});K.value=O({[ke]:Ht},i.keyEntities)}});let re=!1;Ke([()=>e.expandedKeys,()=>e.autoExpandParent,K],(i,d)=>{let[u,S]=i,[E,C]=d,k=m.value;if(e.expandedKeys!==void 0||re&&S!==C)k=e.autoExpandParent||!re&&e.defaultExpandParent?Kt(e.expandedKeys,K.value):e.expandedKeys;else if(!re&&e.defaultExpandAll){const I=O({},K.value);delete I[ke],k=Object.keys(I).map(B=>I[B].key)}else!re&&e.defaultExpandedKeys&&(k=e.autoExpandParent||e.defaultExpandParent?Kt(e.defaultExpandedKeys,K.value):e.defaultExpandedKeys);k&&(m.value=k),re=!0},{immediate:!0});const z=H([]);Ce(()=>{z.value=Wn(x.value,m.value,T.value)}),Ce(()=>{e.selectable&&(e.selectedKeys!==void 0?p.value=mt(e.selectedKeys,e):!re&&e.defaultSelectedKeys&&(p.value=mt(e.defaultSelectedKeys,e)))});const{maxLevel:de,levelEntities:q}=Zn(K);Ce(()=>{if(e.checkable){let i;if(e.checkedKeys!==void 0?i=Ze(e.checkedKeys)||{}:!re&&e.defaultCheckedKeys?i=Ze(e.defaultCheckedKeys)||{}:x.value&&(i=Ze(e.checkedKeys)||{checkedKeys:f.value,halfCheckedKeys:y.value}),i){let{checkedKeys:d=[],halfCheckedKeys:u=[]}=i;e.checkStrictly||({checkedKeys:d,halfCheckedKeys:u}=et(d,!0,K.value,de.value,q.value)),f.value=d,y.value=u}}}),Ce(()=>{e.loadedKeys&&(h.value=e.loadedKeys)});const Z=()=>{O(g,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},oe=i=>{U.value.scrollTo(i)};Ke(()=>e.activeKey,()=>{e.activeKey!==void 0&&(A.value=e.activeKey)},{immediate:!0}),Ke(A,i=>{Tt(()=>{i!==null&&oe({key:i})})},{immediate:!0,flush:"post"});const ce=i=>{e.expandedKeys===void 0&&(m.value=i)},pe=()=>{g.draggingNodeKey!==null&&O(g,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),W=null,R=null},xe=(i,d)=>{const{onDragend:u}=e;g.dragOverNodeKey=null,pe(),u==null||u({event:i,node:d.eventData}),F=null},Oe=i=>{xe(i,null),window.removeEventListener("dragend",Oe)},He=(i,d)=>{const{onDragstart:u}=e,{eventKey:S,eventData:E}=d;F=d,W={x:i.clientX,y:i.clientY};const C=fe(m.value,S);g.draggingNodeKey=S,g.dragChildrenKeys=Rn(S,K.value),v.value=U.value.getIndentWidth(),ce(C),window.addEventListener("dragend",Oe),u&&u({event:i,node:E})},Re=(i,d)=>{const{onDragenter:u,onExpand:S,allowDrop:E,direction:C}=e,{pos:k,eventKey:I}=d;if(R!==I&&(R=I),!F){Z();return}const{dropPosition:B,dropLevelOffset:$,dropTargetKey:L,dropContainerKey:j,dropTargetPos:ee,dropAllowed:ue,dragOverNodeKey:ie}=bt(i,F,d,v.value,W,E,z.value,K.value,V.value,C);if(g.dragChildrenKeys.indexOf(L)!==-1||!ue){Z();return}if(l||(l={}),Object.keys(l).forEach(te=>{clearTimeout(l[te])}),F.eventKey!==d.eventKey&&(l[k]=window.setTimeout(()=>{if(g.draggingNodeKey===null)return;let te=m.value.slice();const ye=K.value[d.eventKey];ye&&(ye.children||[]).length&&(te=he(m.value,d.eventKey)),ce(te),S&&S(te,{node:d.eventData,expanded:!0,nativeEvent:i})},800)),F.eventKey===L&&$===0){Z();return}O(g,{dragOverNodeKey:ie,dropPosition:B,dropLevelOffset:$,dropTargetKey:L,dropContainerKey:j,dropTargetPos:ee,dropAllowed:ue}),u&&u({event:i,node:d.eventData,expandedKeys:m.value})},ze=(i,d)=>{const{onDragover:u,allowDrop:S,direction:E}=e;if(!F)return;const{dropPosition:C,dropLevelOffset:k,dropTargetKey:I,dropContainerKey:B,dropAllowed:$,dropTargetPos:L,dragOverNodeKey:j}=bt(i,F,d,v.value,W,S,z.value,K.value,V.value,E);g.dragChildrenKeys.indexOf(I)!==-1||!$||(F.eventKey===I&&k===0?g.dropPosition===null&&g.dropLevelOffset===null&&g.dropTargetKey===null&&g.dropContainerKey===null&&g.dropTargetPos===null&&g.dropAllowed===!1&&g.dragOverNodeKey===null||Z():C===g.dropPosition&&k===g.dropLevelOffset&&I===g.dropTargetKey&&B===g.dropContainerKey&&L===g.dropTargetPos&&$===g.dropAllowed&&j===g.dragOverNodeKey||O(g,{dropPosition:C,dropLevelOffset:k,dropTargetKey:I,dropContainerKey:B,dropTargetPos:L,dropAllowed:$,dragOverNodeKey:j}),u&&u({event:i,node:d.eventData}))},Ve=(i,d)=>{R===d.eventKey&&!i.currentTarget.contains(i.relatedTarget)&&(Z(),R=null);const{onDragleave:u}=e;u&&u({event:i,node:d.eventData})},qe=function(i,d){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var S;const{dragChildrenKeys:E,dropPosition:C,dropTargetKey:k,dropTargetPos:I,dropAllowed:B}=g;if(!B)return;const{onDrop:$}=e;if(g.dragOverNodeKey=null,pe(),k===null)return;const L=O(O({},Fe(k,dt(X.value))),{active:((S=M.value)===null||S===void 0?void 0:S.key)===k,data:K.value[k].node});E.indexOf(k);const j=it(I),ee={event:i,node:je(L),dragNode:F?F.eventData:null,dragNodesKeys:[F.eventKey].concat(E),dropToGap:C!==0,dropPosition:C+Number(j[j.length-1])};u||$==null||$(ee),F=null},De=(i,d)=>{const{expanded:u,key:S}=d,E=z.value.filter(k=>k.key===S)[0],C=je(O(O({},Fe(S,X.value)),{data:E.data}));ce(u?fe(m.value,S):he(m.value,S)),be(i,C)},Ge=(i,d)=>{const{onClick:u,expandAction:S}=e;S==="click"&&De(i,d),u&&u(i,d)},We=(i,d)=>{const{onDblclick:u,expandAction:S}=e;(S==="doubleclick"||S==="dblclick")&&De(i,d),u&&u(i,d)},Te=(i,d)=>{let u=p.value;const{onSelect:S,multiple:E}=e,{selected:C}=d,k=d[T.value.key],I=!C;I?E?u=he(u,k):u=[k]:u=fe(u,k);const B=K.value,$=u.map(L=>{const j=B[L];return j?j.node:null}).filter(L=>L);e.selectedKeys===void 0&&(p.value=u),S&&S(u,{event:"select",selected:I,node:d,selectedNodes:$,nativeEvent:i})},Ie=(i,d,u)=>{const{checkStrictly:S,onCheck:E}=e,C=d[T.value.key];let k;const I={event:"check",node:d,checked:u,nativeEvent:i},B=K.value;if(S){const $=u?he(f.value,C):fe(f.value,C),L=fe(y.value,C);k={checked:$,halfChecked:L},I.checkedNodes=$.map(j=>B[j]).filter(j=>j).map(j=>j.node),e.checkedKeys===void 0&&(f.value=$)}else{let{checkedKeys:$,halfCheckedKeys:L}=et([...f.value,C],!0,B,de.value,q.value);if(!u){const j=new Set($);j.delete(C),{checkedKeys:$,halfCheckedKeys:L}=et(Array.from(j),{halfCheckedKeys:L},B,de.value,q.value)}k=$,I.checkedNodes=[],I.checkedNodesPositions=[],I.halfCheckedKeys=L,$.forEach(j=>{const ee=B[j];if(!ee)return;const{node:ue,pos:ie}=ee;I.checkedNodes.push(ue),I.checkedNodesPositions.push({node:ue,pos:ie})}),e.checkedKeys===void 0&&(f.value=$,y.value=L)}E&&E(k,I)},Le=i=>{const d=i[T.value.key],u=new Promise((S,E)=>{const{loadData:C,onLoad:k}=e;if(!C||J.value.has(d)||ve.value.has(d))return null;C(i).then(()=>{const B=he(h.value,d),$=fe(b.value,d);k&&k(B,{event:"load",node:i}),e.loadedKeys===void 0&&(h.value=B),b.value=$,S()}).catch(B=>{const $=fe(b.value,d);if(b.value=$,w[d]=(w[d]||0)+1,w[d]>=ro){const L=he(h.value,d);e.loadedKeys===void 0&&(h.value=L),S()}E(B)}),b.value=he(b.value,d)});return u.catch(()=>{}),u},Xe=(i,d)=>{const{onMouseenter:u}=e;u&&u({event:i,node:d})},Ae=(i,d)=>{const{onMouseleave:u}=e;u&&u({event:i,node:d})},Ue=(i,d)=>{const{onRightClick:u}=e;u&&(i.preventDefault(),u({event:i,node:d}))},Ye=i=>{const{onFocus:d}=e;_.value=!0,d&&d(i)},_e=i=>{const{onBlur:d}=e;_.value=!1,c(null),d&&d(i)},be=(i,d)=>{let u=m.value;const{onExpand:S,loadData:E}=e,{expanded:C}=d,k=d[T.value.key];if(D.value)return;u.indexOf(k);const I=!C;if(I?u=he(u,k):u=fe(u,k),ce(u),S&&S(u,{node:d,expanded:I,nativeEvent:i}),I&&E){const B=Le(d);B&&B.then(()=>{}).catch($=>{const L=fe(m.value,k);ce(L),Promise.reject($)})}},Qe=()=>{D.value=!0},r=()=>{setTimeout(()=>{D.value=!1})},c=i=>{const{onActiveChange:d}=e;A.value!==i&&(e.activeKey!==void 0&&(A.value=i),i!==null&&oe({key:i}),d&&d(i))},M=P(()=>A.value===null?null:z.value.find(i=>{let{key:d}=i;return d===A.value})||null),G=i=>{let d=z.value.findIndex(S=>{let{key:E}=S;return E===A.value});d===-1&&i<0&&(d=z.value.length),d=(d+i+z.value.length)%z.value.length;const u=z.value[d];if(u){const{key:S}=u;c(S)}else c(null)},Y=P(()=>je(O(O({},Fe(A.value,X.value)),{data:M.value.data,active:!0}))),Q=i=>{const{onKeydown:d,checkable:u,selectable:S}=e;switch(i.which){case we.UP:{G(-1),i.preventDefault();break}case we.DOWN:{G(1),i.preventDefault();break}}const E=M.value;if(E&&E.data){const C=E.data.isLeaf===!1||!!(E.data.children||[]).length,k=Y.value;switch(i.which){case we.LEFT:{C&&V.value.has(A.value)?be({},k):E.parent&&c(E.parent.key),i.preventDefault();break}case we.RIGHT:{C&&!V.value.has(A.value)?be({},k):E.children&&E.children.length&&c(E.children[0].key),i.preventDefault();break}case we.ENTER:case we.SPACE:{u&&!k.disabled&&k.checkable!==!1&&!k.disableCheckbox?Ie({},k,!le.value.has(A.value)):!u&&S&&!k.disabled&&k.selectable!==!1&&Te({},k);break}}}d&&d(i)};return a({onNodeExpand:be,scrollTo:oe,onKeydown:Q,selectedKeys:P(()=>p.value),checkedKeys:P(()=>f.value),halfCheckedKeys:P(()=>y.value),loadedKeys:P(()=>h.value),loadingKeys:P(()=>b.value),expandedKeys:P(()=>m.value)}),fn(()=>{window.removeEventListener("dragend",Oe),s.value=!0}),An({expandedKeys:m,selectedKeys:p,loadedKeys:h,loadingKeys:b,checkedKeys:f,halfCheckedKeys:y,expandedKeysSet:V,selectedKeysSet:ne,loadedKeysSet:J,loadingKeysSet:ve,checkedKeysSet:le,halfCheckedKeysSet:Se,flattenNodes:z}),()=>{const{draggingNodeKey:i,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:S,dropPosition:E,dragOverNodeKey:C}=g,{prefixCls:k,showLine:I,focusable:B,tabindex:$=0,selectable:L,showIcon:j,icon:ee=o.icon,switcherIcon:ue,draggable:ie,checkable:te,checkStrictly:ye,disabled:Ee,motion:Je,loadData:Rt,filterTreeNode:zt,height:Vt,itemHeight:qt,virtual:Gt,dropIndicatorRender:Wt,onContextmenu:Xt,onScroll:Ut,direction:Yt,rootClassName:Qt,rootStyle:Jt}=e,{class:Zt,style:en}=n,tn=Lt(O(O({},e),n),{aria:!0,data:!0});let Ne;return ie?typeof ie=="object"?Ne=ie:typeof ie=="function"?Ne={nodeDraggable:ie}:Ne={}:Ne=!1,N(Ln,{value:{prefixCls:k,selectable:L,showIcon:j,icon:ee,switcherIcon:ue,draggable:Ne,draggingNodeKey:i,checkable:te,customCheckable:o.checkable,checkStrictly:ye,disabled:Ee,keyEntities:K.value,dropLevelOffset:d,dropContainerKey:u,dropTargetKey:S,dropPosition:E,dragOverNodeKey:C,dragging:i!==null,indent:v.value,direction:Yt,dropIndicatorRender:Wt,loadData:Rt,filterTreeNode:zt,onNodeClick:Ge,onNodeDoubleClick:We,onNodeExpand:be,onNodeSelect:Te,onNodeCheck:Ie,onNodeLoad:Le,onNodeMouseEnter:Xe,onNodeMouseLeave:Ae,onNodeContextMenu:Ue,onNodeDragStart:He,onNodeDragEnter:Re,onNodeDragOver:ze,onNodeDragLeave:Ve,onNodeDragEnd:xe,onNodeDrop:qe,slots:o}},{default:()=>[N("div",{role:"tree",class:ge(k,Zt,Qt,{[`${k}-show-line`]:I,[`${k}-focused`]:_.value,[`${k}-active-focused`]:A.value!==null}),style:Jt},[N(ao,ae({ref:U,prefixCls:k,style:en,disabled:Ee,selectable:L,checkable:!!te,motion:Je,height:Vt,itemHeight:qt,virtual:Gt,focusable:B,focused:_.value,tabindex:$,activeItem:M.value,onFocus:Ye,onBlur:_e,onKeydown:Q,onActiveChange:c,onListChangeStart:Qe,onListChangeEnd:r,onContextmenu:Xt,onScroll:Ut},tn),null)])]})}}});function ko(e,t,n,o,a){const{isLeaf:s,expanded:l,loading:v}=n;let p=t;if(v)return N(vn,{class:`${e}-switcher-loading-icon`},null);let f;a&&typeof a=="object"&&(f=a.showLeafIcon);let y=null;const h=`${e}-switcher-icon`;return s?a?f&&o?o(n):(typeof a=="object"&&!f?y=N("span",{class:`${e}-switcher-leaf-line`},null):y=N(ot,{class:`${e}-switcher-line-icon`},null),y):null:(y=N(nt,{class:h},null),a&&(y=l?N(at,{class:`${e}-switcher-line-icon`},null):N(lt,{class:`${e}-switcher-line-icon`},null)),typeof t=="function"?p=t(O(O({},n),{defaultIcon:y,switcherCls:h})):yn(p)&&(p=hn(p,{class:h})),p||y)}const io=new mn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),so=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),co=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),uo=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:s}=t,l=(s-t.fontSizeLG)/2,v=t.paddingXS;return{[n]:O(O({},bn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:O({},ct(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:a,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:io,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${a}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:O({},ct(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{width:s,lineHeight:`${s}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:O(O({},so(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,margin:0,lineHeight:`${s}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-a,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:s/2*.8,height:s/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:v,marginBlockStart:l},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:s,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${s}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:t.controlItemBgHover},[`&${n}-node-selected`]:{backgroundColor:t.controlItemBgActive},[`${n}-iconEle`]:{display:"inline-block",width:s,height:s,lineHeight:`${s}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:O({lineHeight:`${s}px`,userSelect:"none"},co(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:s/2,bottom:-a,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:`${s/2}px !important`}}}}})}},fo=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:e.colorTextLightSolid,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:e.colorPrimary},[`${t}-switcher`]:{color:e.colorTextLightSolid},[`${t}-node-content-wrapper`]:{color:e.colorTextLightSolid,background:"transparent"}}}}}},vo=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,a=t.paddingXS/2,s=t.controlHeightSM,l=pn(t,{treeCls:n,treeNodeCls:o,treeNodePadding:a,treeTitleHeight:s});return[uo(e,l),fo(l)]},So=gn("Tree",(e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:Cn(`${n}-checkbox`,e)},vo(n,e),xn(e)]});export{ot as F,Ko as T,pt as V,et as a,fe as b,Un as c,he as d,So as e,Gn as f,vo as g,st as h,Kt as i,ko as r,Fn as t,Zn as u};
